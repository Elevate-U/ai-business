import{a as J,b as K,u as s,n as Q,k as M,I as X}from"./index-CanNQZLm.js";import"./react-vendor-BYlzYzcd.js";const ne=({item:a,type:t,progress:v,duration:p,showDeleteButton:k,onDelete:b,onClick:c})=>{const{id:Z,title:D,name:L,poster_path:P,still_path:R,vote_average:_,episode_name:N,season_number:$,episode_number:x,first_air_date:E,release_date:A,number_of_seasons:d,status:I,episodes:S,format:u,nextAiringEpisode:m,studios:f,genres:y}=a,j=R||P,n=L||D,C=typeof n=="object"&&n!==null?n.english||n.romaji||n.native:n,F=v&&p>0?v/p*100:0,r=A||E?new Date(A||E).getFullYear():null,{user:o}=J(),{addFavorite:H,removeFavorite:B,isFavorited:G,favoritesFetched:Y}=K(),h=G(a.id,t,a.season_number,a.episode_number),z=e=>{e.preventDefault(),e.stopPropagation(),o&&(h?B(o.id,a.id,t,a.season_number,a.episode_number):H(o.id,{...a,type:t}))},O=e=>{c&&(e.preventDefault(),c(a))},V=t==="anime"&&a.anilist_id?a.anilist_id:a.id;let T=`/watch/${t}/${V}`;(t==="tv"||t==="anime")&&a.season_number&&a.episode_number&&(T+=`/season/${a.season_number}/episode/${a.episode_number}`);const U=(()=>{if((t==="tv"||t==="anime")&&$&&x)return`S${$} E${x}${N?`: ${N}`:""}`;if(t==="anime"){const e=[];return r&&e.push(r.toString()),S&&e.push(`${S} episodes`),u&&u!=="TV"&&e.push(u),e.length>0?e.join(" • "):"Anime"}else{if(t==="tv"&&d)return`${r||"Unknown"} • ${d} Season${d!==1?"s":""}`;if(t==="movie"&&r)return r.toString()}return null})(),W=()=>{if(t!=="anime"||!I)return null;const i={RELEASING:{text:"Airing",class:"airing"},FINISHED:{text:"Completed",class:"completed"},NOT_YET_RELEASED:{text:"Upcoming",class:"upcoming"},CANCELLED:{text:"Cancelled",class:"cancelled"},HIATUS:{text:"Hiatus",class:"hiatus"}}[I];return i?s("div",{className:`anime-status-badge ${i.class}`,children:i.text}):null},q=()=>{if(t!=="anime"||!m)return null;const e=m.timeUntilAiring;if(e<=0)return null;const i=Math.floor(e/(24*60*60)),g=Math.floor(e%(24*60*60)/(60*60));let l="";return i>0?l=`${i}d ${g}h`:g>0?l=`${g}h`:l="<1h",s("div",{className:"next-episode-info",children:["Ep ",m.episode," in ",l]})},w=s("div",{className:`poster-wrapper ${t==="anime"?"anime-card-enhanced":""}`,children:[s("img",{src:(e=>e?e.startsWith("http")?M(e):M(`${X}${e}`):"https://via.placeholder.com/500x750/1a1a1a/ffffff?text=No+Image")(j),alt:C,loading:"lazy",width:"500",height:"750"}),s("div",{className:"scrim"}),W(),F>.01&&s("div",{className:"progress-bar-container",children:s("div",{className:"progress-bar",style:{width:`${Math.min(F,100)}%`}})}),s("div",{className:"card-info",children:[s("div",{className:"title-row",children:[s("h3",{className:"card-title",children:C}),o&&s("button",{className:`favorite-btn ${h?"favorited":""}`,onClick:z,"aria-label":h?"Remove from favorites":"Add to favorites",disabled:!Y,children:"♥︎"})]}),U&&s("p",{className:"card-subtitle",children:U}),q(),t==="anime"&&f&&f.length>0&&s("p",{className:"studio-info",children:f[0].name}),s("span",{className:"rating",children:["★ ",_?_.toFixed(1):"N/A"]})]}),k&&s("button",{className:"delete-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),b&&b(a)},children:"×"})]});return s("div",{className:"movie-card-container",children:c?s("div",{className:"movie-card clickable",onClick:O,children:w}):s(Q,{href:T,className:"movie-card",children:w})})};export{ne as M};
//# sourceMappingURL=MovieCard-3dEF2ck3.js.map
