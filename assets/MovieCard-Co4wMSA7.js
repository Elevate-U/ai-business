import{a as q,b as z,u as t,j as w,I as J,$ as K}from"./index-_qC34Ia1.js";import"./react-vendor-BYlzYzcd.js";const te=({item:s,type:a,progress:g,duration:v,showDeleteButton:U,onDelete:p,onClick:b})=>{const{id:Q,title:M,name:k,poster_path:D,still_path:P,vote_average:_,episode_name:N,season_number:$,episode_number:x,first_air_date:E,release_date:A,number_of_seasons:d,status:S,episodes:I,format:u,nextAiringEpisode:m,studios:f,genres:X}=s,L=P||D,i=k||M,C=typeof i=="object"&&i!==null?i.english||i.romaji||i.native:i,F=g&&v>0?g/v*100:0,o=A||E?new Date(A||E).getFullYear():null,{user:l}=q(),{addFavorite:j,removeFavorite:R,isShowFavorited:H,favoritesFetched:B}=z(),h=H(s.id,a,s.season_number,s.episode_number),G=e=>{e.preventDefault(),e.stopPropagation(),l&&(h?R(l.id,s.id,a,s.season_number,s.episode_number):j(l.id,{...s,type:a}))},Y=e=>{if(e.preventDefault(),e.stopPropagation(),b)b(s);else{const n=a==="anime"&&s.anilist_id?s.anilist_id:s.id;let r=`/watch/${a}/${n}`;(a==="tv"||a==="anime")&&s.season_number&&s.episode_number&&(r+=`/season/${s.season_number}/episode/${s.episode_number}`),K(r)}},T=(()=>{if((a==="tv"||a==="anime")&&$&&x)return`S${$} E${x}${N?`: ${N}`:""}`;if(a==="anime"){const e=[];return o&&e.push(o.toString()),I&&e.push(`${I} episodes`),u&&u!=="TV"&&e.push(u),e.length>0?e.join(" • "):"Anime"}else{if(a==="tv"&&d)return`${o||"Unknown"} • ${d} Season${d!==1?"s":""}`;if(a==="movie"&&o)return o.toString()}return null})(),O=()=>{if(a!=="anime"||!S)return null;const n={RELEASING:{text:"Airing",class:"airing"},FINISHED:{text:"Completed",class:"completed"},NOT_YET_RELEASED:{text:"Upcoming",class:"upcoming"},CANCELLED:{text:"Cancelled",class:"cancelled"},HIATUS:{text:"Hiatus",class:"hiatus"}}[S];return n?t("div",{className:`anime-status-badge ${n.class}`,children:n.text}):null},V=()=>{if(a!=="anime"||!m)return null;const e=m.timeUntilAiring;if(e<=0)return null;const n=Math.floor(e/(24*60*60)),r=Math.floor(e%(24*60*60)/(60*60));let c="";return n>0?c=`${n}d ${r}h`:r>0?c=`${r}h`:c="<1h",t("div",{className:"next-episode-info",children:["Ep ",m.episode," in ",c]})},W=t("div",{className:`poster-wrapper ${a==="anime"?"anime-card-enhanced":""}`,children:[t("img",{src:(e=>e?e.startsWith("http")?w(e):w(`${J}${e}`):"https://via.placeholder.com/500x750/1a1a1a/ffffff?text=No+Image")(L),alt:C,loading:"eager",width:"500",height:"750"}),t("div",{className:"scrim"}),O(),F>.01&&t("div",{className:"progress-bar-container",children:t("div",{className:"progress-bar",style:{width:`${Math.min(F,100)}%`}})}),t("div",{className:"card-info",children:[t("div",{className:"title-row",children:[t("h3",{className:"card-title",children:C}),l&&t("button",{className:`favorite-btn ${h?"favorited":""}`,onClick:G,"aria-label":h?"Remove from favorites":"Add to favorites",disabled:!B,children:"♥︎"})]}),T&&t("p",{className:"card-subtitle",children:T}),V(),a==="anime"&&f&&f.length>0&&t("p",{className:"studio-info",children:f[0].name}),t("span",{className:"rating",children:["★ ",_?_.toFixed(1):"N/A"]})]}),U&&t("button",{className:"delete-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),p&&p(s)},children:"×"})]});return t("div",{className:"movie-card-container",children:t("div",{className:"movie-card clickable",onClick:Y,children:W})})};export{te as M};
//# sourceMappingURL=MovieCard-Co4wMSA7.js.map
