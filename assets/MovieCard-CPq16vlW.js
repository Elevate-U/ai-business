import{a as T,b as E,u as a,n as U,k as D,I as R}from"./index-YjXO4OFY.js";import"./react-vendor-BYlzYzcd.js";const Y=({item:e,type:s,progress:i,duration:l,showDeleteButton:$,onDelete:c})=>{const{id:z,title:x,name:F,poster_path:S,still_path:k,vote_average:d,episode_name:u,season_number:v,episode_number:m,first_air_date:f,release_date:b,number_of_seasons:t}=e,h=k||S,p=F||x,_=i&&l>0?i/l*100:0,n=b||f?new Date(b||f).getFullYear():null,{user:w}=T(),{addFavorite:A,removeFavorite:P,isFavorited:C,favoritesFetched:I}=E(),o=C(e.id,s,e.season_number,e.episode_number),M=r=>{r.preventDefault(),r.stopPropagation(),o?P(e.id,s,e.season_number,e.episode_number):A({...e,type:s})};let g=`/watch/${s}/${e.id}`;s==="tv"&&e.season_number&&e.episode_number&&(g+=`/season/${e.season_number}/episode/${e.episode_number}`);const N=s==="tv"&&v&&m?`S${v} E${m}${u?`: ${u}`:""}`:s==="tv"&&t?`${n||"Unknown"} • ${t} Season${t!==1?"s":""}`:s==="movie"&&n?n.toString():null;return a("div",{className:"movie-card-container",children:a(U,{href:g,className:"movie-card",children:a("div",{className:"poster-wrapper",children:[a("img",{src:D(h?`${R}${h}`:"https://via.placeholder.com/500x750/1a1a1a/ffffff?text=No+Image"),alt:p,loading:"lazy"}),a("div",{className:"scrim"}),_>.01&&a("div",{className:"progress-bar-container",children:a("div",{className:"progress-bar",style:{width:`${Math.min(_,100)}%`}})}),a("div",{className:"card-info",children:[a("div",{className:"title-row",children:[a("h3",{className:"card-title",children:p}),w&&a("button",{className:`favorite-btn ${o?"favorited":""}`,onClick:M,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:!I,children:"♥︎"})]}),N&&a("p",{className:"card-subtitle",children:N}),a("span",{className:"rating",children:["★ ",d?d.toFixed(1):"N/A"]})]}),$&&a("button",{className:"delete-btn",onClick:r=>{r.preventDefault(),r.stopPropagation(),c&&c(e)},children:"×"})]})})})};export{Y as M};
//# sourceMappingURL=MovieCard-CPq16vlW.js.map
