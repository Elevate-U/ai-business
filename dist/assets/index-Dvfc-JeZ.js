(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var We,C,gn,bn,me,sr,Sn,Tn,An,Lt,Rt,It,En,He={},Pn=[],Ho=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,qe=Array.isArray;function _e(e,t){for(var r in t)e[r]=t[r];return e}function Bt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ie(e,t,r){var n,o,i,s={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?We.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Fe(e,s,n,o,null)}function Fe(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++gn,__i:-1,__u:0};return o==null&&C.vnode!=null&&C.vnode(i),i}function $n(){return{current:null}}function he(e){return e.children}function le(e,t){this.props=e,this.context=t}function Oe(e,t){if(t==null)return e.__?Oe(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Oe(e):null}function wn(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return wn(e)}}function Nt(e){(!e.__d&&(e.__d=!0)&&me.push(e)&&!lt.__r++||sr!=C.debounceRendering)&&((sr=C.debounceRendering)||Sn)(lt)}function lt(){for(var e,t,r,n,o,i,s,l=1;me.length;)me.length>l&&me.sort(Tn),e=me.shift(),l=me.length,e.__d&&(r=void 0,o=(n=(t=e).__v).__e,i=[],s=[],t.__P&&((r=_e({},n)).__v=n.__v+1,C.vnode&&C.vnode(r),Gt(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[o]:null,i,o??Oe(n),!!(32&n.__u),s),r.__v=n.__v,r.__.__k[r.__i]=r,In(i,r,s),r.__e!=o&&wn(r)));lt.__r=0}function On(e,t,r,n,o,i,s,l,c,f,h){var a,_,p,P,m,w,E=n&&n.__k||Pn,A=t.length;for(c=Lo(r,t,E,c,A),a=0;a<A;a++)(p=r.__k[a])!=null&&(_=p.__i==-1?He:E[p.__i]||He,p.__i=a,w=Gt(e,p,_,o,i,s,l,c,f,h),P=p.__e,p.ref&&_.ref!=p.ref&&(_.ref&&Wt(_.ref,null,p),h.push(p.ref,p.__c||P,p)),m==null&&P!=null&&(m=P),4&p.__u||_.__k===p.__k?c=Rn(p,c,e):typeof p.type=="function"&&w!==void 0?c=w:P&&(c=P.nextSibling),p.__u&=-7);return r.__e=m,c}function Lo(e,t,r,n,o){var i,s,l,c,f,h=r.length,a=h,_=0;for(e.__k=new Array(o),i=0;i<o;i++)(s=t[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=i+_,(s=e.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Fe(null,s,null,null,null):qe(s)?Fe(he,{children:s},null,null,null):s.constructor==null&&s.__b>0?Fe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,l=null,(f=s.__i=Bo(s,r,c,a))!=-1&&(a--,(l=r[f])&&(l.__u|=2)),l==null||l.__v==null?(f==-1&&(o>h?_--:o<h&&_++),typeof s.type!="function"&&(s.__u|=4)):f!=c&&(f==c-1?_--:f==c+1?_++:(f>c?_--:_++,s.__u|=4))):e.__k[i]=null;if(a)for(i=0;i<h;i++)(l=r[i])!=null&&!(2&l.__u)&&(l.__e==n&&(n=Oe(l)),Cn(l,l));return n}function Rn(e,t,r){var n,o;if(typeof e.type=="function"){for(n=e.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=e,t=Rn(n[o],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=Oe(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ce(e,t){return t=t||[],e==null||typeof e=="boolean"||(qe(e)?e.some(function(r){ce(r,t)}):t.push(e)),t}function Bo(e,t,r,n){var o,i,s=e.key,l=e.type,c=t[r];if(c===null&&e.key==null||c&&s==c.key&&l==c.type&&!(2&c.__u))return r;if(n>(c!=null&&!(2&c.__u)?1:0))for(o=r-1,i=r+1;o>=0||i<t.length;){if(o>=0){if((c=t[o])&&!(2&c.__u)&&s==c.key&&l==c.type)return o;o--}if(i<t.length){if((c=t[i])&&!(2&c.__u)&&s==c.key&&l==c.type)return i;i++}}return-1}function lr(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Ho.test(t)?r:r+"px"}function rt(e,t,r,n,o){var i,s;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||lr(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||lr(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(An,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.u=n.u:(r.u=Lt,e.addEventListener(t,i?It:Rt,i)):e.removeEventListener(t,i?It:Rt,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function cr(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Lt++;else if(t.t<r.u)return;return r(C.event?C.event(t):t)}}}function Gt(e,t,r,n,o,i,s,l,c,f){var h,a,_,p,P,m,w,E,A,R,F,J,W,ee,S,O,j,g=t.type;if(t.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),i=[l=t.__e=r.__e]),(h=C.__b)&&h(t);e:if(typeof g=="function")try{if(E=t.props,A="prototype"in g&&g.prototype.render,R=(h=g.contextType)&&n[h.__c],F=h?R?R.props.value:h.__:n,r.__c?w=(a=t.__c=r.__c).__=a.__E:(A?t.__c=a=new g(E,F):(t.__c=a=new le(E,F),a.constructor=g,a.render=Wo),R&&R.sub(a),a.props=E,a.state||(a.state={}),a.context=F,a.__n=n,_=a.__d=!0,a.__h=[],a._sb=[]),A&&a.__s==null&&(a.__s=a.state),A&&g.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=_e({},a.__s)),_e(a.__s,g.getDerivedStateFromProps(E,a.__s))),p=a.props,P=a.state,a.__v=t,_)A&&g.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),A&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(A&&g.getDerivedStateFromProps==null&&E!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(E,F),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(E,a.__s,F)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(a.props=E,a.state=a.__s,a.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(I){I&&(I.__=t)}),J=0;J<a._sb.length;J++)a.__h.push(a._sb[J]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(E,a.__s,F),A&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,P,m)})}if(a.context=F,a.props=E,a.__P=e,a.__e=!1,W=C.__r,ee=0,A){for(a.state=a.__s,a.__d=!1,W&&W(t),h=a.render(a.props,a.state,a.context),S=0;S<a._sb.length;S++)a.__h.push(a._sb[S]);a._sb=[]}else do a.__d=!1,W&&W(t),h=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++ee<25);a.state=a.__s,a.getChildContext!=null&&(n=_e(_e({},n),a.getChildContext())),A&&!_&&a.getSnapshotBeforeUpdate!=null&&(m=a.getSnapshotBeforeUpdate(p,P)),O=h,h!=null&&h.type===he&&h.key==null&&(O=Nn(h.props.children)),l=On(e,qe(O)?O:[O],t,r,n,o,i,s,l,c,f),a.base=t.__e,t.__u&=-161,a.__h.length&&s.push(a),w&&(a.__E=a.__=null)}catch(I){if(t.__v=null,c||i!=null)if(I.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else for(j=i.length;j--;)Bt(i[j]);else t.__e=r.__e,t.__k=r.__k;C.__e(I,t,r)}else i==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):l=t.__e=Go(r.__e,t,r,n,o,i,s,c,f);return(h=C.diffed)&&h(t),128&t.__u?void 0:l}function In(e,t,r){for(var n=0;n<r.length;n++)Wt(r[n],r[++n],r[++n]);C.__c&&C.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){C.__e(i,o.__v)}})}function Nn(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:qe(e)?e.map(Nn):_e({},e)}function Go(e,t,r,n,o,i,s,l,c){var f,h,a,_,p,P,m,w=r.props,E=t.props,A=t.type;if(A=="svg"?o="http://www.w3.org/2000/svg":A=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(f=0;f<i.length;f++)if((p=i[f])&&"setAttribute"in p==!!A&&(A?p.localName==A:p.nodeType==3)){e=p,i[f]=null;break}}if(e==null){if(A==null)return document.createTextNode(E);e=document.createElementNS(o,A,E.is&&E),l&&(C.__m&&C.__m(t,i),l=!1),i=null}if(A==null)w===E||l&&e.data==E||(e.data=E);else{if(i=i&&We.call(e.childNodes),w=r.props||He,!l&&i!=null)for(w={},f=0;f<e.attributes.length;f++)w[(p=e.attributes[f]).name]=p.value;for(f in w)if(p=w[f],f!="children"){if(f=="dangerouslySetInnerHTML")a=p;else if(!(f in E)){if(f=="value"&&"defaultValue"in E||f=="checked"&&"defaultChecked"in E)continue;rt(e,f,null,p,o)}}for(f in E)p=E[f],f=="children"?_=p:f=="dangerouslySetInnerHTML"?h=p:f=="value"?P=p:f=="checked"?m=p:l&&typeof p!="function"||w[f]===p||rt(e,f,p,w[f],o);if(h)l||a&&(h.__html==a.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(a&&(e.innerHTML=""),On(t.type=="template"?e.content:e,qe(_)?_:[_],t,r,n,A=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:r.__k&&Oe(r,0),l,c),i!=null)for(f=i.length;f--;)Bt(i[f]);l||(f="value",A=="progress"&&P==null?e.removeAttribute("value"):P!=null&&(P!==e[f]||A=="progress"&&!P||A=="option"&&P!=w[f])&&rt(e,f,P,w[f],o),f="checked",m!=null&&m!=e[f]&&rt(e,f,m,w[f],o))}return e}function Wt(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(o){C.__e(o,r)}}function Cn(e,t,r){var n,o;if(C.unmount&&C.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||Wt(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){C.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Cn(n[o],t,r||typeof e.type!="function");r||Bt(e.__e),e.__c=e.__=e.__e=void 0}function Wo(e,t,r){return this.constructor(e,r)}function Se(e,t,r){var n,o,i,s;t==document&&(t=document.documentElement),C.__&&C.__(e,t),o=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],s=[],Gt(t,e=(!n&&r||t).__k=ie(he,null,[e]),o||He,He,t.namespaceURI,!n&&r?[r]:o?null:t.firstChild?We.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n,s),In(i,e,s)}function qt(e,t){Se(e,t,qt)}function Vt(e,t,r){var n,o,i,s,l=_e({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)i=="key"?n=t[i]:i=="ref"?o=t[i]:l[i]=t[i]===void 0&&s!=null?s[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?We.call(arguments,2):r),Fe(e.type,l,n||e.key,o||e.ref,null)}function Yt(e){function t(r){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&n.forEach(function(s){s.__e=!0,Nt(s)})},this.sub=function(i){n.add(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){n&&n.delete(i),s&&s.call(i)}}),r.children}return t.__c="__cC"+En++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}We=Pn.slice,C={__e:function(e,t,r,n){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),s=o.__d),s)return o.__E=o}catch(l){e=l}throw e}},gn=0,bn=function(e){return e!=null&&e.constructor==null},le.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=_e({},this.state),typeof e=="function"&&(e=e(_e({},r),this.props)),e&&_e(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Nt(this))},le.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Nt(this))},le.prototype.render=he,me=[],Sn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Tn=function(e,t){return e.__v.__b-t.__v.__b},lt.__r=0,An=/(PointerCapture)$|Capture$/i,Lt=0,Rt=cr(!1),It=cr(!0),En=0;const qo=Object.freeze(Object.defineProperty({__proto__:null,Component:le,Fragment:he,cloneElement:Vt,createContext:Yt,createElement:ie,createRef:$n,h:ie,hydrate:qt,get isValidElement(){return bn},get options(){return C},render:Se,toChildArray:ce},Symbol.toStringTag,{value:"Module"}));var Vo=0;function u(e,t,r,n,o,i){t||(t={});var s,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?s=t[l]:c[l]=t[l];var f={type:e,props:c,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Vo,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return C.vnode&&C.vnode(f),f}var ve,G,bt,ur,Re=0,kn=[],q=C,fr=q.__b,pr=q.__r,dr=q.diffed,_r=q.__c,hr=q.unmount,vr=q.__;function Ne(e,t){q.__h&&q.__h(G,e,Re||t),Re=0;var r=G.__H||(G.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function U(e){return Re=1,Kt(Un,e)}function Kt(e,t,r){var n=Ne(ve++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):Un(void 0,t),function(l){var c=n.__N?n.__N[0]:n.__[0],f=n.t(c,l);c!==f&&(n.__N=[f,n.__[1]],n.__c.setState({}))}],n.__c=G,!G.__f)){var o=function(l,c,f){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(_){return!!_.__c});if(h.every(function(_){return!_.__N}))return!i||i.call(this,l,c,f);var a=n.__c.props!==l;return h.forEach(function(_){if(_.__N){var p=_.__[0];_.__=_.__N,_.__N=void 0,p!==_.__[0]&&(a=!0)}}),i&&i.call(this,l,c,f)||a};G.__f=!0;var i=G.shouldComponentUpdate,s=G.componentWillUpdate;G.componentWillUpdate=function(l,c,f){if(this.__e){var h=i;i=void 0,o(l,c,f),i=h}s&&s.call(this,l,c,f)},G.shouldComponentUpdate=o}return n.__N||n.__}function pe(e,t){var r=Ne(ve++,3);!q.__s&&zt(r.__H,t)&&(r.__=e,r.u=t,G.__H.__h.push(r))}function Ve(e,t){var r=Ne(ve++,4);!q.__s&&zt(r.__H,t)&&(r.__=e,r.u=t,G.__h.push(r))}function Jt(e){return Re=5,pt(function(){return{current:e}},[])}function xn(e,t,r){Re=6,Ve(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function pt(e,t){var r=Ne(ve++,7);return zt(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function jn(e,t){return Re=8,pt(function(){return e},t)}function Mn(e){var t=G.context[e.__c],r=Ne(ve++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(G)),t.props.value):e.__}function Dn(e,t){q.useDebugValue&&q.useDebugValue(t?t(e):e)}function Fn(){var e=Ne(ve++,11);if(!e.__){for(var t=G.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function Yo(){for(var e;e=kn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(nt),e.__H.__h.forEach(Ct),e.__H.__h=[]}catch(t){e.__H.__h=[],q.__e(t,e.__v)}}q.__b=function(e){G=null,fr&&fr(e)},q.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),vr&&vr(e,t)},q.__r=function(e){pr&&pr(e),ve=0;var t=(G=e.__c).__H;t&&(bt===G?(t.__h=[],G.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(nt),t.__h.forEach(Ct),t.__h=[],ve=0)),bt=G},q.diffed=function(e){dr&&dr(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(kn.push(t)!==1&&ur===q.requestAnimationFrame||((ur=q.requestAnimationFrame)||Ko)(Yo)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),bt=G=null},q.__c=function(e,t){t.some(function(r){try{r.__h.forEach(nt),r.__h=r.__h.filter(function(n){return!n.__||Ct(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],q.__e(n,r.__v)}}),_r&&_r(e,t)},q.unmount=function(e){hr&&hr(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{nt(n)}catch(o){t=o}}),r.__H=void 0,t&&q.__e(t,r.__v))};var yr=typeof requestAnimationFrame=="function";function Ko(e){var t,r=function(){clearTimeout(n),yr&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);yr&&(t=requestAnimationFrame(r))}function nt(e){var t=G,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),G=t}function Ct(e){var t=G;e.__c=e.__(),G=t}function zt(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Un(e,t){return typeof t=="function"?t(e):t}var Jo={};function Me(e,t){for(var r in t)e[r]=t[r];return e}function zo(e,t,r){var n,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),s={};if(i&&i[1])for(var l=i[1].split("&"),c=0;c<l.length;c++){var f=l[c].split("=");s[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}e=kt(e.replace(o,"")),t=kt(t||"");for(var h=Math.max(e.length,t.length),a=0;a<h;a++)if(t[a]&&t[a].charAt(0)===":"){var _=t[a].replace(/(^:|[+*?]+$)/g,""),p=(t[a].match(/[+*?]+$/)||Jo)[0]||"",P=~p.indexOf("+"),m=~p.indexOf("*"),w=e[a]||"";if(!w&&!m&&(p.indexOf("?")<0||P)){n=!1;break}if(s[_]=decodeURIComponent(w),P||m){s[_]=e.slice(a).map(decodeURIComponent).join("/");break}}else if(t[a]!==e[a]){n=!1;break}return(r.default===!0||n!==!1)&&s}function Qo(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function Xo(e,t){return e.index=t,e.rank=function(r){return r.props.default?0:kt(r.props.path).map(Zo).join("")}(e),e.props}function kt(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Zo(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var ei={},ge=[],mr=[],oe=null,Hn={url:Qt()},ti=Yt(Hn);function Qt(){var e;return""+((e=oe&&oe.location?oe.location:oe&&oe.getCurrentLocation?oe.getCurrentLocation():typeof location<"u"?location:ei).pathname||"")+(e.search||"")}function Le(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(r){for(var n=ge.length;n--;)if(ge[n].canRoute(r))return!0;return!1}(e)&&function(r,n){n===void 0&&(n="push"),oe&&oe[n]?oe[n](r):typeof history<"u"&&history[n+"State"]&&history[n+"State"](null,null,r)}(e,t?"replace":"push"),Ln(e)}function Ln(e){for(var t=!1,r=0;r<ge.length;r++)ge[r].routeTo(e)&&(t=!0);return t}function ri(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),r=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return Le(t)}}function ni(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function Bn(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(ri(t))return ni(e)}while(t=t.parentNode)}}var gr=!1;function Gn(e){e.history&&(oe=e.history),this.state={url:e.url||Qt()}}Me(Gn.prototype=new le,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=ce(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;gr||(gr=!0,oe||addEventListener("popstate",function(){Ln(Qt())}),addEventListener("click",Bn)),ge.push(this),oe&&(this.u=oe.listen(function(t){var r=t.location||t;e.routeTo(""+(r.pathname||"")+(r.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),ge.splice(ge.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(Xo).sort(Qo);for(var r=0;r<e.length;r++){var n=e[r],o=zo(t,n.props.path,n.props);if(o)return[n,o]}},render:function(e,t){var r,n,o=e.onChange,i=t.url,s=this.c,l=this.g(ce(e.children),i);if(l&&(n=Vt(l[0],Me(Me({url:i,matches:r=l[1]},r),{key:void 0,ref:void 0}))),i!==(s&&s.url)){Me(Hn,s=this.c={url:i,previous:s&&s.url,current:n,path:n?n.props.path:null,matches:r}),s.router=this,s.active=n?[n]:[];for(var c=mr.length;c--;)mr[c]({});typeof o=="function"&&o(s)}return ie(ti.Provider,{value:s},n)}});var xe=function(e){return ie("a",Me({onClick:Bn},e))};function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ct.apply(null,arguments)}var $e;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($e||($e={}));var br=function(e){return e},Sr="beforeunload",oi="hashchange",ii="popstate";function ai(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,o=n.history;function i(){var S=Er(n.location.hash.substr(1)),O=S.pathname,j=O===void 0?"/":O,g=S.search,I=g===void 0?"":g,X=S.hash,te=X===void 0?"":X,re=o.state||{};return[re.idx,br({pathname:j,search:I,hash:te,state:re.usr||null,key:re.key||"default"})]}var s=null;function l(){if(s)p.call(s),s=null;else{var S=$e.Pop,O=i(),j=O[0],g=O[1];if(p.length){if(j!=null){var I=h-j;I&&(s={action:S,location:g,retry:function(){W(I*-1)}},W(I))}}else R(S)}}n.addEventListener(ii,l),n.addEventListener(oi,function(){var S=i(),O=S[1];St(O)!==St(a)&&l()});var c=$e.Pop,f=i(),h=f[0],a=f[1],_=Ar(),p=Ar();h==null&&(h=0,o.replaceState(ct({},o.state,{idx:h}),""));function P(){var S=document.querySelector("base"),O="";if(S&&S.getAttribute("href")){var j=n.location.href,g=j.indexOf("#");O=g===-1?j:j.slice(0,g)}return O}function m(S){return P()+"#"+(typeof S=="string"?S:St(S))}function w(S,O){return O===void 0&&(O=null),br(ct({pathname:a.pathname,hash:"",search:""},typeof S=="string"?Er(S):S,{state:O,key:si()}))}function E(S,O){return[{usr:S.state,key:S.key,idx:O},m(S)]}function A(S,O,j){return!p.length||(p.call({action:S,location:O,retry:j}),!1)}function R(S){c=S;var O=i();h=O[0],a=O[1],_.call({action:c,location:a})}function F(S,O){var j=$e.Push,g=w(S,O);function I(){F(S,O)}if(A(j,g,I)){var X=E(g,h+1),te=X[0],re=X[1];try{o.pushState(te,"",re)}catch{n.location.assign(re)}R(j)}}function J(S,O){var j=$e.Replace,g=w(S,O);function I(){J(S,O)}if(A(j,g,I)){var X=E(g,h),te=X[0],re=X[1];o.replaceState(te,"",re),R(j)}}function W(S){o.go(S)}var ee={get action(){return c},get location(){return a},createHref:m,push:F,replace:J,go:W,back:function(){W(-1)},forward:function(){W(1)},listen:function(O){return _.push(O)},block:function(O){var j=p.push(O);return p.length===1&&n.addEventListener(Sr,Tr),function(){j(),p.length||n.removeEventListener(Sr,Tr)}}};return ee}function Tr(e){e.preventDefault(),e.returnValue=""}function Ar(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function si(){return Math.random().toString(36).substr(2,8)}function St(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,o=n===void 0?"":n,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Er(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}const li=()=>{const[e,t]=U("");return u("header",{children:u("div",{class:"container",children:[u(xe,{href:"/",class:"logo",children:"MyStream"}),u("nav",{children:[u(xe,{activeClassName:"active",href:"/?type=movie",children:"Movies"}),u(xe,{activeClassName:"active",href:"/?type=tv",children:"TV Shows"}),u(xe,{activeClassName:"active",href:"/favorites",children:"Favorites"}),u(xe,{activeClassName:"active",href:"/history",children:"History"})]}),u("form",{class:"search-container",onSubmit:n=>{n.preventDefault(),e.trim()&&(Le(`/search?q=${encodeURIComponent(e.trim())}`),t(""))},children:u("input",{type:"text",placeholder:"Search...",value:e,onInput:n=>t(n.target.value)})})]})})};function ci(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ui(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var xt={exports:{}};const Wn=ui(qo);var Pr=Wn;function fi(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _i(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var hi=function(t,r,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof r!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function o(s){return s.displayName||s.name||"Component"}return function(l){if(typeof l!="function")throw new Error("Expected WrappedComponent to be a React component.");var c=[],f=void 0;function h(){f=t(c.map(function(_){return _.props})),a.canUseDOM?r(f):n&&(f=n(f))}var a=function(_){_i(p,_);function p(){return pi(this,p),di(this,_.apply(this,arguments))}return p.peek=function(){return f},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var m=f;return f=void 0,c=[],m},p.prototype.shouldComponentUpdate=function(m){var w=m.children,E=fi(m,["children"]);return w&&w.length&&(E.children=w),i(E,this.props)},p.prototype.componentWillMount=function(){c.push(this),h()},p.prototype.componentDidUpdate=function(){h()},p.prototype.componentWillUnmount=function(){var m=c.indexOf(this);c.splice(m,1),h()},p.prototype.render=function(){return(0,Pr.h)(l,this.props)},p}(Pr.Component);return a.displayName="SideEffect("+o(l)+")",a.canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),a};function i(s,l){for(var c in s)if(!(c in l))return!0;for(var f in l)if(s[f]!==l[f])return!0;return!1}},$r=Object.prototype.toString,qn=function(t){var r=$r.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&$r.call(t.callee)==="[object Function]"),n},Tt,wr;function vi(){if(wr)return Tt;wr=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=qn,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(_){var p=_.constructor;return p&&p.prototype===_},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!f["$"+_]&&t.call(window,_)&&window[_]!==null&&typeof window[_]=="object")try{c(window[_])}catch{return!0}}catch{return!0}return!1}(),a=function(_){if(typeof window>"u"||!h)return c(_);try{return c(_)}catch{return!1}};e=function(p){var P=p!==null&&typeof p=="object",m=r.call(p)==="[object Function]",w=n(p),E=P&&r.call(p)==="[object String]",A=[];if(!P&&!m&&!w)throw new TypeError("Object.keys called on a non-object");var R=s&&m;if(E&&p.length>0&&!t.call(p,0))for(var F=0;F<p.length;++F)A.push(String(F));if(w&&p.length>0)for(var J=0;J<p.length;++J)A.push(String(J));else for(var W in p)!(R&&W==="prototype")&&t.call(p,W)&&A.push(String(W));if(i)for(var ee=a(p),S=0;S<l.length;++S)!(ee&&l[S]==="constructor")&&t.call(p,l[S])&&A.push(l[S]);return A}}return Tt=e,Tt}var yi=Array.prototype.slice,mi=qn,Or=Object.keys,ot=Or?function(t){return Or(t)}:vi(),Rr=Object.keys;ot.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(n){return mi(n)?Rr(yi.call(n)):Rr(n)})}else Object.keys=ot;return Object.keys||ot};var Vn=ot,Yn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(t,r);if(l.value!==o||l.enumerable!==!0)return!1}return!0},gi=Yn,Xt=function(){return gi()&&!!Symbol.toStringTag},Kn=Object,Jn=Error,bi=EvalError,Si=RangeError,Ti=ReferenceError,zn=SyntaxError,Ce=TypeError,Ai=URIError,Ei=Math.abs,Pi=Math.floor,$i=Math.max,wi=Math.min,Oi=Math.pow,Ri=Math.round,Ii=Number.isNaN||function(t){return t!==t},Ni=Ii,Ci=function(t){return Ni(t)||t===0?t:t<0?-1:1},ki=Object.getOwnPropertyDescriptor,it=ki;if(it)try{it([],"length")}catch{it=null}var ke=it,at=Object.defineProperty||!1;if(at)try{at({},"a",{value:1})}catch{at=!1}var dt=at,At,Ir;function xi(){if(Ir)return At;Ir=1;var e=typeof Symbol<"u"&&Symbol,t=Yn;return At=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},At}var Qn=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,ji=Kn,Xn=ji.getPrototypeOf||null,Mi="Function.prototype.bind called on incompatible ",Di=Object.prototype.toString,Fi=Math.max,Ui="[object Function]",Nr=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},Hi=function(t,r){for(var n=[],o=r,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},Li=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},Bi=function(t){var r=this;if(typeof r!="function"||Di.apply(r)!==Ui)throw new TypeError(Mi+r);for(var n=Hi(arguments,1),o,i=function(){if(this instanceof o){var h=r.apply(this,Nr(n,arguments));return Object(h)===h?h:this}return r.apply(t,Nr(n,arguments))},s=Fi(0,r.length-n.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+Li(l,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var f=function(){};f.prototype=r.prototype,o.prototype=new f,f.prototype=null}return o},Gi=Bi,Ye=Function.prototype.bind||Gi,Zt=Function.prototype.call,er=Function.prototype.apply,Wi=typeof Reflect<"u"&&Reflect&&Reflect.apply,qi=Ye,Vi=er,Yi=Zt,Ki=Wi,Zn=Ki||qi.call(Yi,Vi),Ji=Ye,zi=Ce,Qi=Zt,Xi=Zn,tr=function(t){if(t.length<1||typeof t[0]!="function")throw new zi("a function is required");return Xi(Ji,Qi,t)},Zi=tr,Cr=ke,eo;try{eo=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var Et=!!eo&&Cr&&Cr(Object.prototype,"__proto__"),to=Object,kr=to.getPrototypeOf,ea=Et&&typeof Et.get=="function"?Zi([Et.get]):typeof kr=="function"?function(t){return kr(t==null?t:to(t))}:!1,xr=Qn,jr=Xn,Mr=ea,ro=xr?function(t){return xr(t)}:jr?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return jr(t)}:Mr?function(t){return Mr(t)}:null,ta=Function.prototype.call,ra=Object.prototype.hasOwnProperty,na=Ye,no=na.call(ta,ra),x,oa=Kn,ia=Jn,aa=bi,sa=Si,la=Ti,Ie=zn,we=Ce,ca=Ai,ua=Ei,fa=Pi,pa=$i,da=wi,_a=Oi,ha=Ri,va=Ci,oo=Function,Pt=function(e){try{return oo('"use strict"; return ('+e+").constructor;")()}catch{}},Be=ke,ya=dt,$t=function(){throw new we},ma=Be?function(){try{return arguments.callee,$t}catch{try{return Be(arguments,"callee").get}catch{return $t}}}():$t,Ae=xi()(),Z=ro,ga=Xn,ba=Qn,io=er,Ke=Zt,Pe={},Sa=typeof Uint8Array>"u"||!Z?x:Z(Uint8Array),be={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":Ae&&Z?Z([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":Pe,"%AsyncGenerator%":Pe,"%AsyncGeneratorFunction%":Pe,"%AsyncIteratorPrototype%":Pe,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ia,"%eval%":eval,"%EvalError%":aa,"%Float16Array%":typeof Float16Array>"u"?x:Float16Array,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":oo,"%GeneratorFunction%":Pe,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ae&&Z?Z(Z([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ae||!Z?x:Z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":oa,"%Object.getOwnPropertyDescriptor%":Be,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":sa,"%ReferenceError%":la,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ae||!Z?x:Z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ae&&Z?Z(""[Symbol.iterator]()):x,"%Symbol%":Ae?Symbol:x,"%SyntaxError%":Ie,"%ThrowTypeError%":ma,"%TypedArray%":Sa,"%TypeError%":we,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":ca,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet,"%Function.prototype.call%":Ke,"%Function.prototype.apply%":io,"%Object.defineProperty%":ya,"%Object.getPrototypeOf%":ga,"%Math.abs%":ua,"%Math.floor%":fa,"%Math.max%":pa,"%Math.min%":da,"%Math.pow%":_a,"%Math.round%":ha,"%Math.sign%":va,"%Reflect.getPrototypeOf%":ba};if(Z)try{null.error}catch(e){var Ta=Z(Z(e));be["%Error.prototype%"]=Ta}var Aa=function e(t){var r;if(t==="%AsyncFunction%")r=Pt("async function () {}");else if(t==="%GeneratorFunction%")r=Pt("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Pt("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&Z&&(r=Z(o.prototype))}return be[t]=r,r},Dr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Je=Ye,ut=no,Ea=Je.call(Ke,Array.prototype.concat),Pa=Je.call(io,Array.prototype.splice),Fr=Je.call(Ke,String.prototype.replace),ft=Je.call(Ke,String.prototype.slice),$a=Je.call(Ke,RegExp.prototype.exec),wa=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Oa=/\\(\\)?/g,Ra=function(t){var r=ft(t,0,1),n=ft(t,-1);if(r==="%"&&n!=="%")throw new Ie("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ie("invalid intrinsic syntax, expected opening `%`");var o=[];return Fr(t,wa,function(i,s,l,c){o[o.length]=l?Fr(c,Oa,"$1"):s||i}),o},Ia=function(t,r){var n=t,o;if(ut(Dr,n)&&(o=Dr[n],n="%"+o[0]+"%"),ut(be,n)){var i=be[n];if(i===Pe&&(i=Aa(n)),typeof i>"u"&&!r)throw new we("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ie("intrinsic "+t+" does not exist!")},ao=function(t,r){if(typeof t!="string"||t.length===0)throw new we("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new we('"allowMissing" argument must be a boolean');if($a(/^%?[^%]*%?$/,t)===null)throw new Ie("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ra(t),o=n.length>0?n[0]:"",i=Ia("%"+o+"%",r),s=i.name,l=i.value,c=!1,f=i.alias;f&&(o=f[0],Pa(n,Ea([0,1],f)));for(var h=1,a=!0;h<n.length;h+=1){var _=n[h],p=ft(_,0,1),P=ft(_,-1);if((p==='"'||p==="'"||p==="`"||P==='"'||P==="'"||P==="`")&&p!==P)throw new Ie("property names with quotes must have matching quotes");if((_==="constructor"||!a)&&(c=!0),o+="."+_,s="%"+o+"%",ut(be,s))l=be[s];else if(l!=null){if(!(_ in l)){if(!r)throw new we("base intrinsic for "+t+" exists, but the property is not available.");return}if(Be&&h+1>=n.length){var m=Be(l,_);a=!!m,a&&"get"in m&&!("originalValue"in m.get)?l=m.get:l=l[_]}else a=ut(l,_),l=l[_];a&&!c&&(be[s]=l)}}return l},so=ao,lo=tr,Na=lo([so("%String.prototype.indexOf%")]),rr=function(t,r){var n=so(t,!!r);return typeof n=="function"&&Na(t,".prototype.")>-1?lo([n]):n},Ca=Xt(),ka=rr,jt=ka("Object.prototype.toString"),_t=function(t){return Ca&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:jt(t)==="[object Arguments]"},co=function(t){return _t(t)?!0:t!==null&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>=0&&jt(t)!=="[object Array]"&&"callee"in t&&jt(t.callee)==="[object Function]"},xa=function(){return _t(arguments)}();_t.isLegacyArguments=co;var ja=xa?_t:co,Ur=dt,Ma=zn,Ee=Ce,Hr=ke,nr=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Ee("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ee("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ee("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ee("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ee("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ee("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,c=!!Hr&&Hr(t,r);if(Ur)Ur(t,r,{configurable:s===null&&c?c.configurable:!s,enumerable:o===null&&c?c.enumerable:!o,value:n,writable:i===null&&c?c.writable:!i});else if(l||!o&&!i&&!s)t[r]=n;else throw new Ma("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Mt=dt,uo=function(){return!!Mt};uo.hasArrayLengthDefineBug=function(){if(!Mt)return null;try{return Mt([],"length",{value:1}).length!==1}catch{return!0}};var or=uo,Da=Vn,Fa=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Ua=Object.prototype.toString,Ha=Array.prototype.concat,Lr=nr,La=function(e){return typeof e=="function"&&Ua.call(e)==="[object Function]"},fo=or(),Ba=function(e,t,r,n){if(t in e){if(n===!0){if(e[t]===r)return}else if(!La(n)||!n())return}fo?Lr(e,t,r,!0):Lr(e,t,r)},po=function(e,t){var r=arguments.length>2?arguments[2]:{},n=Da(t);Fa&&(n=Ha.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)Ba(e,n[o],t[n[o]],r[n[o]])};po.supportsDescriptors=!!fo;var ze=po,_o={exports:{}},Ga=ao,Br=nr,Wa=or(),Gr=ke,Wr=Ce,qa=Ga("%Math.floor%"),Va=function(t,r){if(typeof t!="function")throw new Wr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||qa(r)!==r)throw new Wr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in t&&Gr){var s=Gr(t,"length");s&&!s.configurable&&(o=!1),s&&!s.writable&&(i=!1)}return(o||i||!n)&&(Wa?Br(t,"length",r,!0,!0):Br(t,"length",r)),t},Ya=Ye,Ka=er,Ja=Zn,za=function(){return Ja(Ya,Ka,arguments)};(function(e){var t=Va,r=dt,n=tr,o=za;e.exports=function(s){var l=n(arguments),c=s.length-(arguments.length-1);return t(l,1+(c>0?c:0),!0)},r?r(e.exports,"apply",{value:o}):e.exports.apply=o})(_o);var ho=_o.exports,qr=function(e){return e!==e},vo=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||qr(t)&&qr(r))},Qa=vo,yo=function(){return typeof Object.is=="function"?Object.is:Qa},Xa=yo,Za=ze,es=function(){var t=Xa();return Za(Object,{is:t},{is:function(){return Object.is!==t}}),t},ts=ze,rs=ho,ns=vo,mo=yo,os=es,go=rs(mo(),Object);ts(go,{getPolyfill:mo,implementation:ns,shim:os});var is=go,Vr=rr,as=Xt(),ss=no,ls=ke,Dt;if(as){var cs=Vr("RegExp.prototype.exec"),Yr={},wt=function(){throw Yr},Kr={toString:wt,valueOf:wt};typeof Symbol.toPrimitive=="symbol"&&(Kr[Symbol.toPrimitive]=wt),Dt=function(t){if(!t||typeof t!="object")return!1;var r=ls(t,"lastIndex"),n=r&&ss(r,"value");if(!n)return!1;try{cs(t,Kr)}catch(o){return o===Yr}}}else{var us=Vr("Object.prototype.toString"),fs="[object RegExp]";Dt=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:us(t)===fs}}var ps=Dt,Ge=function(){return typeof(function(){}).name=="string"},Ue=Object.getOwnPropertyDescriptor;if(Ue)try{Ue([],"length")}catch{Ue=null}Ge.functionsHaveConfigurableNames=function(){if(!Ge()||!Ue)return!1;var t=Ue(function(){},"name");return!!t&&!!t.configurable};var ds=Function.prototype.bind;Ge.boundFunctionsHaveNames=function(){return Ge()&&typeof ds=="function"&&(function(){}).bind().name!==""};var _s=Ge,Jr=nr,hs=or(),vs=_s.functionsHaveConfigurableNames(),ys=Ce,ms=function(t,r){if(typeof t!="function")throw new ys("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||vs)&&(hs?Jr(t,"name",r,!0,!0):Jr(t,"name",r)),t},gs=ms,bs=Ce,Ss=Object,bo=gs(function(){if(this==null||this!==Ss(this))throw new bs("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),Ts=bo,As=ze.supportsDescriptors,Es=Object.getOwnPropertyDescriptor,So=function(){if(As&&/a/mig.flags==="gim"){var t=Es(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),t.get.call(n),r==="dy")return t.get}}return Ts},Ps=ze.supportsDescriptors,$s=So,ws=ke,Os=Object.defineProperty,Rs=Jn,zr=ro,Is=/a/,Ns=function(){if(!Ps||!zr)throw new Rs("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=$s(),r=zr(Is),n=ws(r,"flags");return(!n||n.get!==t)&&Os(r,"flags",{configurable:!0,enumerable:!1,get:t}),t},Cs=ze,ks=ho,xs=bo,To=So,js=Ns,Ao=ks(To());Cs(Ao,{getPolyfill:To,implementation:xs,shim:js});var Ms=Ao,Eo=rr,Ds=Eo("Date.prototype.getDay"),Fs=function(t){try{return Ds(t),!0}catch{return!1}},Us=Eo("Object.prototype.toString"),Hs="[object Date]",Ls=Xt(),Bs=function(t){return typeof t!="object"||t===null?!1:Ls?Fs(t):Us(t)===Hs},Qr=Vn,Xr=ja,Zr=is,en=ps,tn=Ms,rn=Bs,nn=Date.prototype.getTime;function Po(e,t,r){var n=r||{};return(n.strict?Zr(e,t):e===t)?!0:!e||!t||typeof e!="object"&&typeof t!="object"?n.strict?Zr(e,t):e==t:Gs(e,t,n)}function on(e){return e==null}function an(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function Gs(e,t,r){var n,o;if(typeof e!=typeof t||on(e)||on(t)||e.prototype!==t.prototype||Xr(e)!==Xr(t))return!1;var i=en(e),s=en(t);if(i!==s)return!1;if(i||s)return e.source===t.source&&tn(e)===tn(t);if(rn(e)&&rn(t))return nn.call(e)===nn.call(t);var l=an(e),c=an(t);if(l!==c)return!1;if(l||c){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var f=Qr(e),h=Qr(t)}catch{return!1}if(f.length!==h.length)return!1;for(f.sort(),h.sort(),n=f.length-1;n>=0;n--)if(f[n]!=h[n])return!1;for(n=f.length-1;n>=0;n--)if(o=f[n],!Po(e[o],t[o],r))return!1;return!0}var Ws=Po;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var sn=Object.getOwnPropertySymbols,qs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable;function Ys(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ks(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Js=Ks()?Object.assign:function(e,t){for(var r,n=Ys(e),o,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var s in r)qs.call(r,s)&&(n[s]=r[s]);if(sn){o=sn(r);for(var l=0;l<o.length;l++)Vs.call(r,o[l])&&(n[o[l]]=r[o[l]])}}return n},Qe={};Qe.__esModule=!0;Qe.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"};Qe.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"};Qe.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"};(function(e,t){t.__esModule=!0;var r=function(){function $(d,y){for(var v=0;v<y.length;v++){var T=y[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,y,v){return y&&$(d.prototype,y),v&&$(d,v),d}}(),n=Object.assign||function($){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&($[v]=y[v])}return $},o=Wn,i=hi,s=_(i),l=Ws,c=_(l),f=Js,h=_(f),a=Qe;function _($){return $&&$.__esModule?$:{default:$}}function p($,d){if(!($ instanceof d))throw new TypeError("Cannot call a class as a function")}function P($,d){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:$}function m($,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);$.prototype=Object.create(d&&d.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf($,d):$.__proto__=d)}function w($,d,y){return d in $?Object.defineProperty($,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):$[d]=y,$}var E="data-preact-helmet",A=function(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},R=function(d,y){for(var v=d.length-1;v>=0;v--){var T=d[v];if(T[y])return T[y]}return null},F=function(d){var y=R(d,"title"),v=R(d,"titleTemplate");if(v&&y)return v.replace(/%s/g,function(){return y});var T=R(d,"defaultTitle");return y||T||""},J=function(d){return R(d,"onChangeClientState")||function(){}},W=function(d,y){return y.filter(function(v){return typeof v[d]<"u"}).map(function(v){return v[d]}).reduce(function(v,T){return n({},v,T)},{})},ee=function(d,y){return y.filter(function(v){return typeof v[a.TAG_NAMES.BASE]<"u"}).map(function(v){return v[a.TAG_NAMES.BASE]}).reverse().reduce(function(v,T){if(!v.length)for(var k=Object.keys(T),H=0;H<k.length;H++){var D=k[H],N=D.toLowerCase();if(d.indexOf(N)!==-1&&T[N])return v.concat(T)}return v},[])},S=function(d,y,v){var T={};return v.filter(function(k){return typeof k[d]<"u"}).map(function(k){return k[d]}).reverse().reduce(function(k,H){var D={};H.filter(function(z){for(var Y=void 0,ye=Object.keys(z),de=0;de<ye.length;de++){var ae=ye[de],b=ae.toLowerCase();y.indexOf(b)!==-1&&!(Y===a.TAG_PROPERTIES.REL&&z[Y].toLowerCase()==="canonical")&&!(b===a.TAG_PROPERTIES.REL&&z[b].toLowerCase()==="stylesheet")&&(Y=b),y.indexOf(ae)!==-1&&(ae===a.TAG_PROPERTIES.INNER_HTML||ae===a.TAG_PROPERTIES.CSS_TEXT||ae===a.TAG_PROPERTIES.ITEM_PROP)&&(Y=ae)}if(!Y||!z[Y])return!1;var B=z[Y].toLowerCase();return T[Y]||(T[Y]={}),D[Y]||(D[Y]={}),T[Y][B]?!1:(D[Y][B]=!0,!0)}).reverse().forEach(function(z){return k.push(z)});for(var N=Object.keys(D),L=0;L<N.length;L++){var V=N[L],fe=(0,h.default)({},T[V],D[V]);T[V]=fe}return k},[]).reverse()},O=function(d,y){document.title=d||document.title,j(a.TAG_NAMES.TITLE,y)},j=function(d,y){for(var v=document.getElementsByTagName(d)[0],T=v.getAttribute(E),k=T?T.split(","):[],H=[].concat(k),D=Object.keys(y),N=0;N<D.length;N++){var L=D[N],V=y[L]||"";v.setAttribute(L,V),k.indexOf(L)===-1&&k.push(L);var fe=H.indexOf(L);fe!==-1&&H.splice(fe,1)}for(var z=H.length-1;z>=0;z--)v.removeAttribute(H[z]);k.length===H.length?v.removeAttribute(E):v.setAttribute(E,k.join(","))},g=function(d,y){var v=document.head||document.querySelector("head"),T=v.querySelectorAll(d+"["+E+"]"),k=Array.prototype.slice.call(T),H=[],D=void 0;return y&&y.length&&y.forEach(function(N){var L=document.createElement(d);for(var V in N)if(N.hasOwnProperty(V))if(V==="innerHTML")L.innerHTML=N.innerHTML;else if(V==="cssText")L.styleSheet?L.styleSheet.cssText=N.cssText:L.appendChild(document.createTextNode(N.cssText));else{var fe=typeof N[V]>"u"?"":N[V];L.setAttribute(V,fe)}L.setAttribute(E,"true"),k.some(function(z,Y){return D=Y,L.isEqualNode(z)})?k.splice(D,1):H.push(L)}),k.forEach(function(N){return N.parentNode.removeChild(N)}),H.forEach(function(N){return v.appendChild(N)}),{oldTags:k,newTags:H}},I=function(d){return Object.keys(d).reduce(function(y,v){var T=typeof d[v]<"u"?v+'="'+d[v]+'"':""+v;return y?y+" "+T:T},"")},X=function(d,y,v){var T=I(v);return T?"<"+d+" "+E+" "+T+">"+A(y)+"</"+d+">":"<"+d+" "+E+">"+A(y)+"</"+d+">"},te=function(d,y){return y.reduce(function(v,T){var k=Object.keys(T).filter(function(N){return!(N==="innerHTML"||N==="cssText")}).reduce(function(N,L){var V=typeof T[L]>"u"?L:L+'="'+A(T[L])+'"';return N?N+" "+V:V},""),H=T.innerHTML||T.cssText||"",D=[a.TAG_NAMES.NOSCRIPT,a.TAG_NAMES.SCRIPT,a.TAG_NAMES.STYLE].indexOf(d)===-1;return v+"<"+d+" "+E+" "+k+(D?">":">"+H+"</"+d+">")},"")},re=function(d,y,v){var T=w({key:y},E,!0),k=Object.keys(v).reduce(function(H,D){return H[D]=v[D],H},T);return[(0,o.h)(a.TAG_NAMES.TITLE,k,y)]},Te=function(d,y){return y.map(function(v,T){var k=w({key:T},E,!0);return Object.keys(v).forEach(function(H){var D=H;if(D==="innerHTML"||D==="cssText"){var N=v.innerHTML||v.cssText;k.dangerouslySetInnerHTML={__html:N}}else k[D]=v[H]}),(0,o.h)(d,k)})},ue=function(d,y){switch(d){case a.TAG_NAMES.TITLE:return{toComponent:function(){return re(d,y.title,y.titleAttributes)},toString:function(){return X(d,y.title,y.titleAttributes)}};case a.TAG_NAMES.HTML:return{toComponent:function(){return y},toString:function(){return I(y)}};default:return{toComponent:function(){return Te(d,y)},toString:function(){return te(d,y)}}}},et=function(d){var y=d.htmlAttributes,v=d.title,T=d.titleAttributes,k=d.baseTag,H=d.metaTags,D=d.linkTags,N=d.scriptTags,L=d.noscriptTags,V=d.styleTags;return{htmlAttributes:ue(a.TAG_NAMES.HTML,y),title:ue(a.TAG_NAMES.TITLE,{title:v,titleAttributes:T}),base:ue(a.TAG_NAMES.BASE,k),meta:ue(a.TAG_NAMES.META,H),link:ue(a.TAG_NAMES.LINK,D),script:ue(a.TAG_NAMES.SCRIPT,N),noscript:ue(a.TAG_NAMES.NOSCRIPT,L),style:ue(a.TAG_NAMES.STYLE,V)}},tt=function(d){var y,v;return v=y=function(T){m(k,T);function k(){return p(this,k),P(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return r(k,[{key:"shouldComponentUpdate",value:function(D){var N=n({},D);return(!N.children||!N.children.length)&&delete N.children,!(0,c.default)(this.props,N)}},{key:"render",value:function(){return(0,o.h)(d,this.props)}}],[{key:"canUseDOM",set:function(D){d.canUseDOM=D}}]),k}(o.Component),y.peek=d.peek,y.rewind=function(){var T=d.rewind();return T||(T=et({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),T},v},Q=function(d){return{htmlAttributes:W(a.TAG_NAMES.HTML,d),title:F(d),titleAttributes:W("titleAttributes",d),baseTag:ee([a.TAG_PROPERTIES.HREF],d),metaTags:S(a.TAG_NAMES.META,[a.TAG_PROPERTIES.NAME,a.TAG_PROPERTIES.CHARSET,a.TAG_PROPERTIES.HTTPEQUIV,a.TAG_PROPERTIES.PROPERTY,a.TAG_PROPERTIES.ITEM_PROP],d),linkTags:S(a.TAG_NAMES.LINK,[a.TAG_PROPERTIES.REL,a.TAG_PROPERTIES.HREF],d),scriptTags:S(a.TAG_NAMES.SCRIPT,[a.TAG_PROPERTIES.SRC,a.TAG_PROPERTIES.INNER_HTML],d),noscriptTags:S(a.TAG_NAMES.NOSCRIPT,[a.TAG_PROPERTIES.INNER_HTML],d),styleTags:S(a.TAG_NAMES.STYLE,[a.TAG_PROPERTIES.CSS_TEXT],d),onChangeClientState:J(d)}},M=function(d){var y=d.htmlAttributes,v=d.title,T=d.titleAttributes,k=d.baseTag,H=d.metaTags,D=d.linkTags,N=d.scriptTags,L=d.noscriptTags,V=d.styleTags,fe=d.onChangeClientState;j("html",y),O(v,T);var z={baseTag:g(a.TAG_NAMES.BASE,k),metaTags:g(a.TAG_NAMES.META,H),linkTags:g(a.TAG_NAMES.LINK,D),scriptTags:g(a.TAG_NAMES.SCRIPT,N),noscriptTags:g(a.TAG_NAMES.NOSCRIPT,L),styleTags:g(a.TAG_NAMES.STYLE,V)},Y={},ye={};Object.keys(z).forEach(function(de){var ae=z[de],b=ae.newTags,B=ae.oldTags;b.length&&(Y[de]=b),B.length&&(ye[de]=z[de].oldTags)}),fe(d,Y,ye)},mt=function(){return null},gt=(0,s.default)(Q,M,et)(mt);t.default=tt(gt),e.exports=t.default})(xt,xt.exports);var zs=xt.exports;const ht=ci(zs),$o="my-stream-watch-history",vt=(e,t,r,n)=>t==="movie"?`movie-${e}`:t==="tv"||t==="anime"?`tv-${e}-s${r}-e${n}`:e,Xe=()=>{try{const e=localStorage.getItem($o);return e?JSON.parse(e):{}}catch(e){return console.error("Error reading watch history from localStorage:",e),{}}},Qs=e=>{try{localStorage.setItem($o,JSON.stringify(e))}catch(t){console.error("Error saving watch history to localStorage:",t)}},wo=(e,t,r,n)=>{if(!e)return null;const o=Xe(),i=vt(e,t,r,n);return o[i]||null},Xs=(e,t,r,n,o,i)=>{if(!e||!t||typeof o!="number"||typeof i!="number"||i<60||o<5)return;const s=Xe(),l=vt(e,t,r,n),c={id:e,type:t,progress:o,duration:i,watchedAt:new Date().toISOString()};(t==="tv"||t==="anime")&&(c.season=r,c.episode=n,s[e]={lastWatched:new Date().toISOString(),type:t,season:r,episode:n}),s[l]=c,Qs(s)},Zs=e=>{const t=Xe(),r={};for(const n in t)if(t[n].id===e){const o=t[n],i=vt(o.id,o.type,o.season,o.episode);r[i]=o}return r},el=e=>{const r=Xe()[e];return r&&r.season&&r.episode?{season:r.season,episode:r.episode}:null},tl="/api/image/t/p/w500",Ze=({item:e,mediaType:t})=>{const r=e.poster_path&&e.poster_path!=="undefined"?`${tl}${e.poster_path}`:"https://via.placeholder.com/200x300.png?text=No+Image",n=e.title||e.name,o=e.vote_average?e.vote_average.toFixed(1):"N/A",i=t||e.media_type||"movie",s=`/watch?id=${e.id}&type=${i}`,l=wo(e.id),c=l&&l.duration>0?l.progress/l.duration*100:0;return u("a",{href:s,class:"movie-card",children:[u("div",{class:"poster-wrapper",children:[u("img",{src:r,alt:n,loading:"lazy"}),c>0&&c<95&&u("div",{class:"progress-bar-container",children:u("div",{class:"progress-bar",style:{width:`${c}%`}})})]}),u("div",{class:"movie-info",children:[u("h3",{children:n}),u("span",{class:"rating",children:["★ ",o]})]})]})},je=({title:e,items:t,mediaType:r})=>!t||t.length===0?null:u("section",{class:"movie-grid-section",children:[u("h2",{children:e}),u("div",{class:"movie-grid",children:t.map(n=>u(Ze,{item:n,mediaType:n.media_type||r}))})]}),rl=e=>{const[t,r]=U([]),[n,o]=U([]),[i,s]=U([]),[l,c]=U([]),[f,h]=U([]),[a,_]=U(null),[p,P]=U("movie"),[m,w]=U(!0);pe(()=>{var F;const R=new URLSearchParams(((F=e.url)==null?void 0:F.split("?")[1])||"").get("type")||"movie";["movie","tv"].includes(R)&&P(R)},[e.url]),pe(()=>{(async()=>{w(!0);try{const R=Xe(),F=[];for(const g in R){const I=R[g];I.lastWatched&&(I.type==="tv"||I.type==="anime")?F.push({...I,id:g,media_type:I.type}):I.type==="movie"&&I.progress>0&&F.push({...I,media_type:I.type})}const J=F.filter(g=>g.type==="movie"?g.progress>60&&g.progress/g.duration<.95:!0).sort((g,I)=>new Date(I.watchedAt||I.lastWatched)-new Date(g.watchedAt||g.lastWatched));if(J.length>0){const g=await Promise.all(J.map(async I=>{try{const X=await fetch(`/api/tmdb/${I.media_type}/${I.id}`);return X.ok?{...await X.json(),media_type:I.media_type}:null}catch{return null}}));h(g.filter(Boolean))}const[W,ee,S,O]=await Promise.all([fetch("/api/tmdb/trending/movie/week").then(g=>g.json()),fetch("/api/tmdb/movie/top_rated").then(g=>g.json()),fetch("/api/tmdb/trending/tv/week").then(g=>g.json()),fetch("/api/tmdb/tv/top_rated").then(g=>g.json())]);r(W.results||[]),o(ee.results||[]),s(S.results||[]),c(O.results||[]);const j=[...(W.results||[]).map(g=>({...g,media_type:"movie"})),...(S.results||[]).map(g=>({...g,media_type:"tv"}))];j.length>0&&_(j[Math.floor(Math.random()*j.length)])}catch(R){console.error("Error fetching content:",R)}finally{w(!1)}})()},[]);const E=()=>{if(m)return u("div",{class:"loading-spinner"});if(p==="movie")return u("div",{children:[u(je,{title:"Trending Movies",items:t,mediaType:"movie"}),u(je,{title:"Top Rated Movies",items:n,mediaType:"movie"})]});if(p==="tv")return u("div",{children:[u(je,{title:"Trending TV Shows",items:i,mediaType:"tv"}),u(je,{title:"Top Rated TV Shows",items:l,mediaType:"tv"})]})};return u("div",{children:[u(ht,{children:u("title",{children:"MyStream - Watch Movies & TV Shows Online"})}),a&&u("div",{class:"hero-section",style:{backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.7) 30%, transparent), url(https://image.tmdb.org/t/p/original${a.backdrop_path})`},children:u("div",{class:"hero-content",children:[u("h1",{children:a.title||a.name}),u("p",{children:a.overview}),u("a",{href:`/watch?id=${a.id}&type=${a.media_type}`,class:"btn btn-primary",children:"▶ Watch Now"})]})}),u("div",{class:"container",children:[u("div",{class:"media-type-switcher",children:[u("button",{onClick:()=>Le("/?type=movie"),class:p==="movie"?"active":"",children:"Movies"}),u("button",{onClick:()=>Le("/?type=tv"),class:p==="tv"?"active":"",children:"TV Shows"})]}),u(je,{title:"Continue Watching",items:f}),E()]})]})},ln=e=>{let t;const r=new Set,n=(f,h)=>{const a=typeof f=="function"?f(t):f;if(!Object.is(a,t)){const _=t;t=h??(typeof a!="object"||a===null)?a:Object.assign({},t,a),r.forEach(p=>p(t,_))}},o=()=>t,l={setState:n,getState:o,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f))},c=t=e(n,o,l);return l},nl=e=>e?ln(e):ln;function Oo(e,t){for(var r in t)e[r]=t[r];return e}function Ft(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function Ro(e,t){var r=t(),n=U({t:{__:r,u:t}}),o=n[0].t,i=n[1];return Ve(function(){o.__=r,o.u=t,Ot(o)&&i({t:o})},[e,r,t]),pe(function(){return Ot(o)&&i({t:o}),e(function(){Ot(o)&&i({t:o})})},[e]),r}function Ot(e){var t,r,n=e.u,o=e.__;try{var i=n();return!((t=o)===(r=i)&&(t!==0||1/t==1/r)||t!=t&&r!=r)}catch{return!0}}function Io(e){e()}function No(e){return e}function Co(){return[!1,Io]}var ko=Ve;function Ut(e,t){this.props=e,this.context=t}function ol(e,t){function r(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!s:Ft(this.props,o)}function n(o){return this.shouldComponentUpdate=r,ie(e,o)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Ut.prototype=new le).isPureReactComponent=!0,Ut.prototype.shouldComponentUpdate=function(e,t){return Ft(this.props,e)||Ft(this.state,t)};var cn=C.__b;C.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),cn&&cn(e)};var il=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function al(e){function t(r){var n=Oo({},r);return delete n.ref,e(n,r.ref||null)}return t.$$typeof=il,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var un=function(e,t){return e==null?null:ce(ce(e).map(t))},sl={map:un,forEach:un,count:function(e){return e?ce(e).length:0},only:function(e){var t=ce(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:ce},ll=C.__e;C.__e=function(e,t,r,n){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),o.__c(e,t)}ll(e,t,r,n)};var fn=C.unmount;function xo(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=Oo({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return xo(n,t,r)})),e}function jo(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return jo(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function st(){this.__u=0,this.o=null,this.__b=null}function Mo(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function cl(e){var t,r,n;function o(i){if(t||(t=e()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw t;return ie(r,i)}return o.displayName="Lazy",o.__f=!0,o}function De(){this.i=null,this.l=null}C.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),fn&&fn(e)},(st.prototype=new le).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=Mo(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,o?o(l):l())};r.__R=s;var l=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=jo(c,c.__c.__P,c.__c.__O)}var f;for(n.setState({__a:n.__b=null});f=n.o.pop();)f.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(s,s)},st.prototype.componentWillUnmount=function(){this.o=[]},st.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=xo(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__a&&ie(he,null,e.fallback);return o&&(o.__u&=-33),[ie(he,null,t.__a?null:e.children),o]};var pn=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function ul(e){return this.getChildContext=function(){return e.context},e.children}function fl(e){var t=this,r=e.h;if(t.componentWillUnmount=function(){Se(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),!t.v){for(var n=t.__v;n!==null&&!n.__m&&n.__!==null;)n=n.__;t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],__k:{__m:n.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Se(ie(ul,{context:t.context},e.__v),t.v)}function pl(e,t){var r=ie(fl,{__v:e,h:t});return r.containerInfo=t,r}(De.prototype=new le).__a=function(e){var t=this,r=Mo(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),pn(t,e,n)):o()};r?r(i):i()}},De.prototype.render=function(e){this.i=null,this.l=new Map;var t=ce(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},De.prototype.componentDidUpdate=De.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){pn(e,r,t)})};var Do=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,dl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_l=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,hl=/[A-Z0-9]/g,vl=typeof document<"u",yl=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function ml(e,t,r){return t.__k==null&&(t.textContent=""),Se(e,t),typeof r=="function"&&r(),e?e.__c:null}function gl(e,t,r){return qt(e,t),typeof r=="function"&&r(),e?e.__c:null}le.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(le.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var dn=C.event;function bl(){}function Sl(){return this.cancelBubble}function Tl(){return this.defaultPrevented}C.event=function(e){return dn&&(e=dn(e)),e.persist=bl,e.isPropagationStopped=Sl,e.isDefaultPrevented=Tl,e.nativeEvent=e};var ir,Al={enumerable:!1,configurable:!0,get:function(){return this.class}},_n=C.vnode;C.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,o={},i=n.indexOf("-")===-1;for(var s in r){var l=r[s];if(!(s==="value"&&"defaultValue"in r&&l==null||vl&&s==="children"&&n==="noscript"||s==="class"||s==="className")){var c=s.toLowerCase();s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?s="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||yl(r.type)?c==="onfocus"?s="onfocusin":c==="onblur"?s="onfocusout":_l.test(s)&&(s=c):c=s="oninput":i&&dl.test(s)?s=s.replace(hl,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&o[s=c]&&(s="oninputCapture"),o[s]=l}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=ce(r.children).forEach(function(f){f.props.selected=o.value.indexOf(f.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=ce(r.children).forEach(function(f){f.props.selected=o.multiple?o.defaultValue.indexOf(f.props.value)!=-1:o.defaultValue==f.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",Al)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),t.props=o}(e),e.$$typeof=Do,_n&&_n(e)};var hn=C.__r;C.__r=function(e){hn&&hn(e),ir=e.__c};var vn=C.diffed;C.diffed=function(e){vn&&vn(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value),ir=null};var El={ReactCurrentDispatcher:{current:{readContext:function(e){return ir.__n[e.__c].props.value},useCallback:jn,useContext:Mn,useDebugValue:Dn,useDeferredValue:No,useEffect:pe,useId:Fn,useImperativeHandle:xn,useInsertionEffect:ko,useLayoutEffect:Ve,useMemo:pt,useReducer:Kt,useRef:Jt,useState:U,useSyncExternalStore:Ro,useTransition:Co}}};function Pl(e){return ie.bind(null,e)}function yt(e){return!!e&&e.$$typeof===Do}function $l(e){return yt(e)&&e.type===he}function wl(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Ol(e){return yt(e)?Vt.apply(null,arguments):e}function Rl(e){return!!e.__k&&(Se(null,e),!0)}function Il(e){return e&&(e.base||e.nodeType===1&&e)||null}var Nl=function(e,t){return e(t)},Cl=function(e,t){return e(t)},kl=he,xl=yt,yn={useState:U,useId:Fn,useReducer:Kt,useEffect:pe,useLayoutEffect:Ve,useInsertionEffect:ko,useTransition:Co,useDeferredValue:No,useSyncExternalStore:Ro,startTransition:Io,useRef:Jt,useImperativeHandle:xn,useMemo:pt,useCallback:jn,useContext:Mn,useDebugValue:Dn,version:"18.3.1",Children:sl,render:ml,hydrate:gl,unmountComponentAtNode:Rl,createPortal:pl,createElement:ie,createContext:Yt,createFactory:Pl,cloneElement:Ol,createRef:$n,Fragment:he,isValidElement:yt,isElement:xl,isFragment:$l,isMemo:wl,findDOMNode:Il,Component:le,PureComponent:Ut,memo:ol,forwardRef:al,flushSync:Cl,unstable_batchedUpdates:Nl,StrictMode:kl,Suspense:st,SuspenseList:De,lazy:cl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:El};const jl=e=>e;function Ml(e,t=jl){const r=yn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return yn.useDebugValue(r),r}const mn=e=>{const t=nl(e),r=n=>Ml(t,n);return Object.assign(r,t),r},Dl=e=>e?mn(e):mn;function Fl(e,t){let r;try{r=e()}catch{return}return{getItem:o=>{var i;const s=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(o))!=null?i:null;return l instanceof Promise?l.then(s):s(l)},setItem:(o,i)=>r.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>r.removeItem(o)}}const Ht=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ht(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ht(n)(r)}}}},Ul=(e,t)=>(r,n,o)=>{let i={storage:Fl(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...t},s=!1;const l=new Set,c=new Set;let f=i.storage;if(!f)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,o);const h=()=>{const m=i.partialize({...n()});return f.setItem(i.name,{state:m,version:i.version})},a=o.setState;o.setState=(m,w)=>{a(m,w),h()};const _=e((...m)=>{r(...m),h()},n,o);o.getInitialState=()=>_;let p;const P=()=>{var m,w;if(!f)return;s=!1,l.forEach(A=>{var R;return A((R=n())!=null?R:_)});const E=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(m=n())!=null?m:_))||void 0;return Ht(f.getItem.bind(f))(i.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==i.version){if(i.migrate){const R=i.migrate(A.state,A.version);return R instanceof Promise?R.then(F=>[!0,F]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var R;const[F,J]=A;if(p=i.merge(J,(R=n())!=null?R:_),r(p,!0),F)return h()}).then(()=>{E==null||E(p,void 0),p=n(),s=!0,c.forEach(A=>A(p))}).catch(A=>{E==null||E(void 0,A)})};return o.persist={setOptions:m=>{i={...i,...m},m.storage&&(f=m.storage)},clearStorage:()=>{f==null||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>P(),hasHydrated:()=>s,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||P(),p||_},Hl=Ul,ar=Dl(Hl((e,t)=>({favorites:[],history:[],addFavorite:r=>e(n=>({favorites:[r,...n.favorites]})),removeFavorite:r=>e(n=>({favorites:n.favorites.filter(o=>o.id!==r)})),isFavorited:r=>t().favorites.some(n=>n.id===r),addToHistory:r=>{e(n=>{const o=[r,...n.history.filter(i=>i.id!==r.id)];return o.length>50&&o.pop(),{history:o}})}}),{name:"mystream-storage"})),Ll=()=>{const e=ar(t=>t.favorites);return u("div",{class:"container",children:[u(ht,{children:u("title",{children:"My Favorites - MyStream"})}),u("h1",{children:"My Favorites"}),e.length>0?u("div",{class:"movie-grid",children:e.map(t=>u(Ze,{item:t,mediaType:t.type}))}):u("p",{children:"You haven't added any favorites yet."})]})},Bl=()=>{const e=ar(t=>t.history);return u("div",{class:"container",children:[u(ht,{children:u("title",{children:"Watch History - MyStream"})}),u("h1",{children:"Watch History"}),e.length>0?u("div",{class:"movie-grid",children:e.map(t=>u(Ze,{item:t,mediaType:t.type}))}):u("p",{children:"Your watch history is empty."})]})},Gl=e=>{var ae;const[t,r]=U(null),[n,o]=U([]),[i,s]=U([]),[l,c]=U(""),[f,h]=U(!0),[a,_]=U(1),[p,P]=U(1),[m,w]=U(e.matches.type==="anime"?"consumet":"videasy"),[E,A]=U([]),[R,F]=U(null),[J,W]=U(!1),[ee,S]=U(!1),[O,j]=U(!1),[g,I]=U(null),[X,te]=U(!1),[re,Te]=U([]),ue=Jt(null),[et,tt]=U({}),{id:Q,type:M}=e.matches,{addFavorite:mt,removeFavorite:gt,isFavorited:$,addToHistory:d}=ar();pe(()=>{if(!Q||!M){Le("/");return}c(""),te(!1),Te([]),r(null),h(!0),j(!1),I(null),tt({}),(async()=>{h(!0);try{const[B,K,se]=await Promise.all([fetch(`/api/tmdb/${M}/${Q}`).then(ne=>ne.json()),fetch(`/api/tmdb/${M}/${Q}/videos`).then(ne=>ne.json()),fetch(`/api/tmdb/${M}/${Q}/recommendations`).then(ne=>ne.json())]);if(r(B),o(K.results||[]),s(se.results||[]),(M==="tv"||M==="anime")&&B.seasons&&B.seasons.length>0){const ne=el(Q);if(ne&&ne.season&&ne.episode)_(ne.season),P(ne.episode);else{const Fo=B.seasons.find(Uo=>Uo.season_number>0)||B.seasons[0];_(Fo.season_number),P(1)}}if(d({...B,type:M}),M==="tv"||M==="anime"){const ne=Zs(Q);tt(ne)}}catch(B){console.error("Error fetching media details:",B)}finally{h(!1)}})()},[Q,M]),pe(()=>{(async()=>{if(!(M!=="tv"&&M!=="anime"||!Q||!a)){W(!0);try{const K=await fetch(`/api/tmdb/${M==="anime"?"anime":"tv"}/${Q}/season/${a}`);if(K.ok){const se=await K.json();F(se)}else F(null)}catch(B){console.error("Error fetching season details:",B),F(null)}finally{W(!1)}}})()},[Q,M,a]),pe(()=>{(async()=>{if(!Q||!M)return;j(!1),I(null);let B=`/api/stream-url?type=${M}&id=${Q}&source=${m}`;(M==="tv"||M==="anime")&&(B+=`&season=${a}&episode=${p}`,M==="anime"&&(B+=`&dub=${ee}`));try{const K=await fetch(B).then(se=>se.json());K.isDirectSource?(c(K.url),Te(K.qualities||[]),te(!0)):(c(K.url),te(!1),Te([])),K.currentSource&&w(K.currentSource),K.availableSources&&A(K.availableSources)}catch(K){console.error("Error fetching stream URL:",K),c(""),te(!1)}})()},[Q,M,a,p,m,ee]);const y=()=>{if(!R||!R.episodes)return;const b=R.episodes.findIndex(B=>B.episode_number===p);if(b!==-1&&b<R.episodes.length-1){const B=R.episodes[b+1];P(B.episode_number)}else console.log("End of season");j(!1),I(null)};if(pe(()=>{if(O&&g===null&&I(15),g>0){const b=setTimeout(()=>{I(g-1)},1e3);return()=>clearTimeout(b)}else g===0&&y()},[O,g]),pe(()=>{const b=ue.current;if(!b||!X)return;const B=()=>{const se=wo(Q,M,a,p);se&&se.progress&&(b.currentTime=se.progress)},K=()=>{Xs(Q,M,a,p,b.currentTime,b.duration),b.duration>0&&b.currentTime/b.duration>=.95&&!O&&(M==="tv"||M==="anime")&&j(!0)};return b.addEventListener("loadedmetadata",B),b.addEventListener("timeupdate",K),()=>{b.removeEventListener("loadedmetadata",B),b.removeEventListener("timeupdate",K)}},[l,X,Q,M,a,p,y,O]),f)return u("div",{class:"loading-spinner"});if(!t)return u("div",{class:"container",children:u("p",{children:"Could not load media details."})});const{title:v,name:T,overview:k,vote_average:H,release_date:D,first_air_date:N,runtime:L,number_of_seasons:V,genres:fe,poster_path:z}=t,Y=$(t.id),ye=D||N?new Date(D||N).getFullYear():"",de=()=>{Y?gt(t.id):mt({...t,type:M})};return u("div",{children:[u(ht,{children:u("title",{children:[v||T," - MyStream"]})}),u("div",{class:"player-container",children:[!l&&u("div",{class:"stream-error-message",children:[u("p",{children:"Could not load the video stream."}),u("p",{children:"If this issue persists, please try selecting a different source from the list below."})]}),X?u("video",{ref:ue,src:l,controls:!0,autoPlay:!0,width:"100%"}):l&&u("iframe",{src:l,allowfullscreen:!0}),O&&u("div",{class:"next-episode-prompt",children:u("div",{class:"next-episode-content",children:[u("h3",{children:"Up Next"}),u("p",{children:["Playing next episode in ",g,"s..."]}),u("div",{class:"next-episode-buttons",children:[u("button",{onClick:y,class:"btn btn-primary",children:"Play Next"}),u("button",{onClick:()=>{j(!1),I(null)},class:"btn",children:"Cancel"})]})]})})]}),u("div",{class:"container",children:[u("div",{class:"media-details-layout",children:[u("div",{class:"poster",children:u("img",{src:z?`/api/image/t/p/w500${z}`:"https://via.placeholder.com/500x750.png?text=No+Image",alt:v||T})}),u("div",{class:"details",children:[u("div",{class:"title-container",children:[u("h1",{children:v||T}),u("button",{onClick:de,class:`favorite-btn ${Y?"favorited":""}`,children:Y?"♥ Favorited":"♡ Add to Favorites"})]}),u("div",{class:"meta",children:[u("span",{class:"rating",children:["★ ",t.vote_average?t.vote_average.toFixed(1):"N/A"]}),u("span",{children:ye}),L&&u("span",{children:[L," min"]}),V&&u("span",{children:[V," Seasons"]})]}),u("div",{class:"genres",children:fe&&fe.map(b=>u("span",{class:"genre-tag",children:b.name}))}),u("p",{class:"overview",children:k}),re.length>0&&u("div",{class:"quality-selector",children:[u("label",{children:"Quality:"}),re.map(b=>u("button",{class:`quality-btn ${l===b.url?"active":""}`,onClick:()=>c(b.url),children:[b.quality,"p"]}))]})]})]}),M==="anime"&&u("div",{class:"select-container",children:[u("label",{for:"dub-select",children:"Audio:"}),u("select",{id:"dub-select",value:ee,onChange:b=>S(b.target.value==="true"),children:[u("option",{value:"false",children:"Subbed"}),u("option",{value:"true",children:"Dubbed"})]})]}),u("div",{class:"selectors-container",children:[(M==="tv"||M==="anime")&&t&&t.seasons&&u("div",{class:"select-container",children:[u("label",{children:"Season:"}),u("div",{class:"selector-buttons",children:t.seasons.filter(b=>b.season_number>0).map(b=>u("button",{class:`selector-btn ${a===b.season_number?"active":""}`,onClick:()=>{_(b.season_number),P(1)},children:b.name},b.id))})]}),E.length>1&&u("div",{class:"select-container",children:[u("label",{children:"Source:"}),u("div",{class:"selector-buttons",children:E.map(b=>u("button",{class:`selector-btn ${m===b?"active":""}`,onClick:()=>w(b),children:b},b))})]})]}),(M==="tv"||M==="anime")&&u("div",{class:"episodes-container",children:[u("h3",{children:"Episodes"}),J?u("div",{class:"loading-spinner"}):u("div",{class:"episode-list",children:(ae=R==null?void 0:R.episodes)==null?void 0:ae.map(b=>{const B=vt(Q,M,a,b.episode_number),K=et[B],se=K?K.progress/K.duration*100:0;return u("div",{class:`episode-card ${b.episode_number===p?"active":""}`,onClick:()=>P(b.episode_number),children:[u("div",{class:"episode-card-image",children:[u("img",{src:b.still_path?`/api/image/t/p/w300${b.still_path}`:`https://via.placeholder.com/300x169.png?text=${encodeURIComponent(b.name)}`,alt:b.name}),u("div",{class:"episode-number-badge",children:b.episode_number}),se>0&&u("div",{class:"episode-progress-bar",children:u("div",{class:"episode-progress",style:{width:`${se}%`}})})]}),u("div",{class:"episode-card-content",children:[u("h4",{children:b.name}),u("p",{class:"episode-overview",children:b.overview})]})]},b.id)})})]}),i.length>0&&u("div",{class:"recommendations",children:[u("h2",{children:"More Like This"}),u("div",{class:"movie-grid",children:i.map(b=>u(Ze,{item:b,mediaType:M}))})]})]})]})},Wl=e=>{const[t,r]=U([]),[n,o]=U(!1),[i,s]=U("");pe(()=>{var h;const f=new URLSearchParams(((h=e.url)==null?void 0:h.split("?")[1])||"").get("q");s(f||""),f?l(f):r([])},[e.url]);const l=async c=>{o(!0);try{const h=await(await fetch(`/api/tmdb/search/multi?query=${encodeURIComponent(c)}`)).json();if(h&&h.results){const a=h.results.filter(_=>(_.media_type==="movie"||_.media_type==="tv")&&_.poster_path);r(a)}}catch(f){console.error("Error performing search:",f),r([])}finally{o(!1)}};return u("div",{class:"container",children:[u("div",{class:"page-header",children:u("h1",{children:['Search Results for "',i,'"']})}),n?u("div",{class:"loading-spinner"}):t.length>0?u("div",{class:"movie-grid",children:t.map(c=>u(Ze,{item:c,mediaType:c.media_type}))}):u("p",{children:['No results found for "',i,'". Please try another search.']})]})},ql=()=>u("div",{class:"app",children:[u(li,{}),u("main",{children:u(Gn,{history:ai(),children:[u(rl,{path:"/"}),u(Ll,{path:"/favorites"}),u(Bl,{path:"/history"}),u(Gl,{path:"/watch"}),u(Wl,{path:"/search"})]})}),u("footer",{children:u("p",{children:"© 2024 MyStream. All Rights Reserved."})})]});Se(u(ql,{}),document.getElementById("app"));
